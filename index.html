<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElitePromo | Radar Dual Premium</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #facc15; --bg: #05070a; --surface: #111827;
            --text: #f3f4f6; --border: rgba(255,255,255,0.08); --accent: #10b981;
        }
        [data-platform="amazon"] { --primary: #ff9900; --bg: #0f1111; --surface: #232f3e; }
        [data-theme="light"] { --bg: #f8fafc; --surface: #ffffff; --text: #0f172a; --border: rgba(0,0,0,0.1); }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; transition: all 0.3s ease; }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* HEADER */
        header { background: var(--bg); padding: 15px 20px; position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--border); backdrop-filter: blur(15px); }
        .nav-top { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: auto; }
        
        .platform-switcher { display: flex; align-items: center; background: var(--surface); padding: 5px; border-radius: 50px; border: 1px solid var(--border); cursor: pointer; position: relative; width: 110px; height: 42px; }
        .platform-logo { width: 50%; height: 100%; display: flex; align-items: center; justify-content: center; z-index: 2; filter: grayscale(1) opacity(0.5); }
        .platform-logo img { height: 16px; }
        .platform-logo.active { filter: grayscale(0) opacity(1); }
        .switch-indicator { position: absolute; width: 48px; height: 32px; background: var(--bg); border-radius: 40px; border: 1px solid var(--primary); box-shadow: 0 0 15px var(--primary); z-index: 1; left: 5px; }
        [data-platform="amazon"] .switch-indicator { left: 57px; }

        .search-container { display: none; padding: 10px 20px; animation: slideDown 0.3s; }
        .search-container.active { display: block; }
        .search-bar { display: flex; align-items: center; background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 5px 15px; }
        .search-bar input { background: none; border: none; color: var(--text); width: 100%; padding: 10px; outline: none; }

        /* CATEGORIAS */
        .categories { display: flex; gap: 10px; overflow-x: auto; padding: 15px 20px; scrollbar-width: none; }
        .categories::-webkit-scrollbar { display: none; }
        .chip { padding: 8px 18px; border-radius: 50px; background: var(--surface); border: 1px solid var(--border); font-size: 13px; font-weight: 700; white-space: nowrap; cursor: pointer; }
        .chip.active { background: var(--primary); color: #000; border-color: var(--primary); }

        /* RADAR */
        .radar-box { margin: 10px 20px; padding: 25px; border-radius: 24px; background: linear-gradient(135deg, var(--primary) -100%, transparent 100%); border: 1px solid var(--border); text-align: center; cursor: pointer; position: relative; overflow: hidden; }
        .radar-pulse { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80px; height: 80px; border: 2px solid var(--primary); border-radius: 50%; animation: pulse 2s infinite; opacity: 0; }
        @keyframes pulse { 0% { width: 50px; opacity: 1; } 100% { width: 300px; opacity: 0; } }

        /* GRID */
        .grid { padding: 0 20px; display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .card { background: var(--surface); border-radius: 20px; border: 1px solid var(--border); overflow: hidden; }
        .card-img { width: 100%; height: 140px; object-fit: contain; background: #fff; padding: 10px; }
        .card-price { font-size: 18px; font-weight: 800; color: var(--accent); }

        /* FOOTER CORPORATIVO */
        footer { background: var(--surface); padding: 40px 20px 20px; border-top: 1px solid var(--border); margin-top: 40px; }
        .f-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; max-width: 1200px; margin: auto; }
        .f-col h4 { font-size: 11px; text-transform: uppercase; color: var(--primary); margin-bottom: 15px; letter-spacing: 1px; }
        .f-col a { display: block; color: var(--text); opacity: 0.6; text-decoration: none; margin-bottom: 10px; font-size: 13px; }
        
        .partnership { 
            grid-column: 1 / -1; background: var(--bg); padding: 25px; border-radius: 24px; 
            text-align: center; border: 1px solid var(--border); margin-top: 20px;
        }
        .partnership img { height: 22px; filter: grayscale(1) brightness(1.5); transition: 0.3s; }
        [data-theme="light"] .partnership img { filter: none; }

        /* PANEL */
        #details-panel { position: fixed; bottom: -110%; left: 0; width: 100%; height: 88%; background: var(--surface); z-index: 2000; border-radius: 35px 35px 0 0; padding: 25px; border-top: 1px solid var(--border); overflow-y: auto; }
        #details-panel.open { bottom: 0; }
        .btn-buy { display: block; background: var(--primary); color: #000; text-align: center; padding: 18px; border-radius: 18px; text-decoration: none; font-weight: 800; margin: 20px 0; }
        .review-card { background: var(--bg); padding: 15px; border-radius: 15px; margin-bottom: 12px; border: 1px solid var(--border); }

        @keyframes pulse { 0% { width: 50px; opacity: 1; } 100% { width: 300px; opacity: 0; } }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body data-platform="ml">

    <header>
        <div class="nav-top">
            <div class="platform-switcher" onclick="switchPlatform()">
                <div class="switch-indicator"></div>
                <div class="platform-logo active" id="btn-ml"><img src="https://anyhub.com.br/wp-content/uploads/2022/07/mercado-livre.png"></div>
                <div class="platform-logo" id="btn-amz"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg"></div>
            </div>
            <div style="display: flex; gap: 15px;">
                <i class="ph ph-magnifying-glass" style="font-size: 24px; cursor: pointer;" onclick="toggleSearch()"></i>
                <i class="ph ph-sun" style="font-size: 24px; cursor: pointer;" onclick="toggleTheme()"></i>
            </div>
        </div>
        <div class="search-container" id="searchContainer">
            <div class="search-bar"><input type="text" id="searchInput" placeholder="O que vocÃª busca?" oninput="filtrarGeral()"></div>
        </div>
    </header>

    <div class="categories">
        <div class="chip active" onclick="filtrarCat('todos', this)">ðŸš€ Tudo</div>
        <div class="chip" onclick="filtrarCat('eletronicos', this)">EletrÃ´nicos</div>
        <div class="chip" onclick="filtrarCat('beleza', this)">Beleza</div>
        <div class="chip" onclick="filtrarCat('lar', this)">Lar</div>
        <div class="chip" onclick="filtrarCat('moda', this)">Moda</div>
        <div class="chip" onclick="filtrarCat('cupons', this)">Cupons</div>
    </div>

    <div class="radar-box" onclick="filterToday()">
        <div class="radar-pulse"></div>
        <i class="ph-fill ph-lightning" style="font-size: 32px; color: var(--primary);"></i>
        <h3 id="radar-text" style="margin-top:10px;">Radar de Novidades</h3>
        <p style="font-size: 11px; opacity: 0.6;">Toque para filtrar apenas ofertas de hoje</p>
    </div>

    <main class="grid" id="mainGrid"></main>

    <footer>
        <div class="f-grid">
            <div class="f-col">
                <h4>NavegaÃ§Ã£o</h4>
                <a href="#" onclick="location.reload()">InÃ­cio</a>
                <a href="#" onclick="filtrarCat('cupons', this)">Cupons</a>
                <a href="#" onclick="filterToday()">Radar Hoje</a>
            </div>
            <div class="f-col">
                <h4>Suporte</h4>
                <a href="https://wa.me/SEUNUMERO">WhatsApp</a>
                <a href="#">Privacidade</a>
                <a href="#">Termos</a>
            </div>
            <div class="partnership">
                <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 10px;">
                    <span style="font-weight: 900; font-size: 14px; letter-spacing: 1px;">ELITEPROMO</span>
                    <i class="ph ph-x" style="font-size: 10px; opacity: 0.5;"></i>
                    <img id="footer-logo" src="https://anyhub.com.br/wp-content/uploads/2022/07/mercado-livre.png">
                </div>
                <p style="font-size: 12px; opacity: 0.7; line-height: 1.5;" id="footer-text">
                    Distribuidor Autorizado e Afiliado Oficial Mercado Livre.<br>
                    Ofertas verificadas por inteligÃªncia artificial.
                </p>
            </div>
        </div>
        <p style="text-align: center; font-size: 10px; opacity: 0.3; margin-top: 30px;">&copy; 2026 ElitePromo Radar - Todos os direitos reservados.</p>
    </footer>

    <div id="details-panel">
        <div style="width: 40px; height: 5px; background: #444; margin: 0 auto 20px; border-radius: 10px;" onclick="closeDetails()"></div>
        <div id="panel-content"></div>
    </div>
    <div id="overlay" onclick="closeDetails()" style="position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:1999; display:none;"></div>

    <script>
        let db = [];
        let platform = 'ml';

        async function loadDB() {
            try {
                const res = await fetch(`${platform}_produtos.json`);
                db = await res.json();
                render(db);
            } catch (e) { document.getElementById('mainGrid').innerHTML = "<p style='grid-column:1/-1;text-align:center;padding:50px;'>Aguardando produtos do servidor...</p>"; }
        }

        function switchPlatform() {
            platform = (platform === 'ml') ? 'amazon' : 'ml';
            document.body.setAttribute('data-platform', platform);
            document.getElementById('btn-ml').classList.toggle('active');
            document.getElementById('btn-amz').classList.toggle('active');
            
            // Atualiza RodapÃ©
            document.getElementById('footer-logo').src = platform === 'ml' ? 'https://anyhub.com.br/wp-content/uploads/2022/07/mercado-livre.png' : 'https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg';
            document.getElementById('footer-text').innerHTML = `Distribuidor Autorizado e Afiliado Oficial ${platform === 'ml' ? 'Mercado Livre' : 'Amazon'}.<br>Ofertas verificadas por inteligÃªncia artificial.`;
            
            loadDB();
        }

        function render(data) {
            const mainGrid = document.getElementById('mainGrid');
            mainGrid.innerHTML = data.map(p => `
                <div class="card" onclick="openDetails(${p.id})">
                    <img src="${p.fotos.split('\n')[0]}" class="card-img">
                    <div style="padding:12px;">
                        <div style="font-size:11px; font-weight:600; height:30px; overflow:hidden;">${p.nome}</div>
                        <div class="card-price">R$ ${p.valor}</div>
                    </div>
                </div>
            `).join('');
        }

        function filterToday() {
            const hoje = new Date().toLocaleDateString('pt-BR');
            const novidades = db.filter(p => new Date(p.id).toLocaleDateString('pt-BR') === hoje);
            if(novidades.length > 0) render(novidades);
            else alert("Ainda nÃ£o temos ofertas novas hoje!");
        }

        function openDetails(id) {
            const p = db.find(x => x.id === id);
            const content = document.getElementById('panel-content');
            
            const reviewsHTML = p.coments ? p.coments.split('\n').map(c => {
                const [info, foto] = c.split('|');
                return `
                    <div class="review-card">
                        <div style="display:flex; justify-content:space-between;">
                            <strong>${info.split(':')[0]}</strong>
                            <span style="color:var(--primary);">â˜…â˜…â˜…â˜…â˜…</span>
                        </div>
                        <p style="font-size:13px; margin-top:5px; opacity:0.8;">${info.split(':')[1] || ''}</p>
                        ${foto ? `<img src="${foto.trim()}" style="width:100%; border-radius:12px; margin-top:10px;">` : ''}
                    </div>
                `;
            }).join('') : '';

            content.innerHTML = `
                <img src="${p.fotos.split('\n')[0]}" style="width:100%; height:220px; object-fit:contain; background:#fff; border-radius:20px; padding:15px;">
                <h2 style="margin-top:15px; font-size:20px;">${p.nome}</h2>
                <div style="font-size:32px; font-weight:900; color:var(--accent); margin:10px 0;">R$ ${p.valor}</div>
                <a href="${p.link}" target="_blank" class="btn-buy">EU QUERO NA ${platform.toUpperCase()}</a>
                <p style="font-size:14px; line-height:1.6; opacity:0.8;">${p.desc}</p>
                <h3 style="margin:25px 0 15px; font-size:16px;">AvaliaÃ§Ãµes de Clientes</h3>
                ${reviewsHTML}
            `;
            document.getElementById('details-panel').classList.add('open');
            document.getElementById('overlay').style.display = 'block';
        }

        function closeDetails() {
            document.getElementById('details-panel').classList.remove('open');
            document.getElementById('overlay').style.display = 'none';
        }

        function filtrarGeral() {
            const termo = document.getElementById('searchInput').value.toLowerCase();
            render(db.filter(i => i.nome.toLowerCase().includes(termo)));
        }

        function filtrarCat(cat, el) {
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            el.classList.add('active');
            if(cat === 'todos') render(db);
            else render(db.filter(i => i.categoria === cat));
        }

        function toggleSearch() { document.getElementById('searchContainer').classList.toggle('active'); }
        function toggleTheme() { const b = document.body; b.getAttribute('data-theme') === 'light' ? b.removeAttribute('data-theme') : b.setAttribute('data-theme', 'light'); }

        loadDB();
    </script>
</body>
</html>